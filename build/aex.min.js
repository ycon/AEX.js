(function(){var requirejs,require,define;(function(a){function g(a,b){if(a&&a.charAt(0)==="."&&b){b=b.split("/"),b=b.slice(0,b.length-1),a=b.concat(a.split("/"));var c,d;for(c=0;d=a[c];c++)if(d===".")a.splice(c,1),c-=1;else if(d===".."){if(c===1&&(a[2]===".."||a[0]===".."))break;c>0&&(a.splice(c-1,2),c-=2)}a=a.join("/")}return a}function h(b,c){return function(){return f.apply(a,d.call(arguments,0).concat([b,c]))}}function i(a){return function(b){return g(b,a)}}function j(a){return function(c){b[a]=c}}function k(d){if(c.hasOwnProperty(d)){var f=c[d];delete c[d],e.apply(a,f)}return b[d]}function l(a,b){var c,d,e=a.indexOf("!");return e!==-1?(c=g(a.slice(0,e),b),a=a.slice(e+1),d=k(c),d&&d.normalize?a=d.normalize(a,i(b)):a=g(a,b)):a=g(a,b),{f:c?c+"!"+a:a,n:a,p:d}}var b={},c={},d=[].slice,e,f;if(typeof define=="function")return;e=function(d,e,f,g){var i=[],m,n,o,p,q,r;g||(g=d);if(typeof f=="function"){!e.length&&f.length&&(e=["require","exports","module"]);for(p=0;p<e.length;p++){r=l(e[p],g),o=r.f;if(o==="require")i[p]=h(d);else if(o==="exports")i[p]=b[d]={},m=!0;else if(o==="module")n=i[p]={id:d,uri:"",exports:b[d]};else if(b.hasOwnProperty(o)||c.hasOwnProperty(o))i[p]=k(o);else{if(!r.p)throw d+" missing "+o;r.p.load(r.n,h(g,!0),j(o),{}),i[p]=b[o]}}q=f.apply(b[d],i),d&&(n&&n.exports!==a?b[d]=n.exports:m||(b[d]=q))}else d&&(b[d]=f)},requirejs=f=function(b,c,d,g){return typeof b=="string"?k(l(b,c).f):(b.splice||(c.splice?(b=c,c=arguments[2]):b=[]),g?e(a,b,c,d):setTimeout(function(){e(a,b,c,d)},15),f)},f.config=function(){return f},require||(require=f),define=function(a,b,d){b.splice||(d=b,b=[]),define.unordered?c[a]=[a,b,d]:e(a,b,d)},define.amd={jQuery:!0}})(),define("extern/almond",function(){}),define("extern/ES5",[],function(){function d(a){return a=+a,a!==a?a=0:a!==0&&a!==1/0&&a!==-Infinity&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}var a=Array.prototype,b=Object.prototype,c=a.slice;return Function.prototype.bind||(Function.prototype.bind=function(b){var d=this;if(typeof d!="function")throw new TypeError("Function.prototype.bind called on incompatible "+d);var e=c.call(arguments,1),f=function(){if(this instanceof f){var a=function(){};a.prototype=d.prototype;var g=new a,h=d.apply(g,e.concat(c.call(arguments)));return Object(h)===h?h:g}return d.apply(b,e.concat(c.call(arguments)))};return f}),Array.isArray||(Array.isArray=function(b){return Object.prototype.toString.call(b)==="[object Array]"}),Array.prototype.indexOf||(Array.prototype.indexOf=function(b){var c=this,e,f="a"[0]!="a";f&&typeof o=="string"&&o&&(c=c.split("")),c=Object(this),e=c.length>>>0;if(!e)return-1;var g=0;arguments.length>1&&(g=d(arguments[1])),g=g>=0?g:Math.max(0,e+g);for(;g<e;g+=1)if(g in c&&c[g]===b)return g;return-1}),{done:!0}}),define("geom/Vector",[],function(){function a(a,b,c){this.x=a||0,this.y=b||0,this.z=c||0}return a.isVector=function(a){return a&&typeof a.x=="number"&&typeof a.y=="number"},a.prototype={constructor:a,set:function(a,b,c){return this.x=a,this.y=b,this.z=c,this},setX:function(a){return this.x=a,this},setY:function(a){return this.y=a,this},setZ:function(a){return this.z=a,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this},clone:function(){return new a(this.x,this.y,this.z)},add:function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},addScalar:function(a){return this.x+=a,this.y+=a,this.z+=a,this},sub:function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},multiply:function(a){return this.x*=a.x,this.y*=a.y,this.z*=a.z,this},multiplyScalar:function(a){return this.x*=a,this.y*=a,this.z*=a,this},divide:function(a){return this.x/=a.x,this.y/=a.y,this.z/=a.z,this},divideScalar:function(a){return a?(this.x/=a,this.y/=a,this.z/=a):(this.x=0,this.y=0,this.z=0),this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},lerp:function(a,b){return this.x+=(a.x-this.x)*b,this.y+=(a.y-this.y)*b,this.z+=(a.z-this.z)*b,this},cross:function(a){var b=this.x,c=this.y,d=this.z;return this.x=c*a.z-d*a.y,this.y=d*a.x-b*a.z,this.z=b*a.y-c*a.x,this},flatten:function(a,b){var c=a/(a-this.z);return this.x=this.x*c+b.x*(1-c),this.y=this.y*c+b.y*(1-c),this},multiplyMatrix:function(a){return a.multiplyVector(this),this},distance:function(a){return Math.sqrt(this.distanceSq(a))},distanceSq:function(a){return this.clone().sub(a).lengthSq()},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z},isZero:function(){return this.lengthSq()<1e-4},max:function(){return Math.max(this.x,Math.max(this.y,this.z))},min:function(a){return Math.min(this.x,Math.min(this.y,this.z))},setFromQuaternion:function(a){this.x=Math.atan2(2*(a.x*a.w-a.y*a.z),a.w*a.w-a.x*a.x-a.y*a.y+a.z*a.z),this.y=Math.asin(2*(a.x*a.z+a.y*a.w)),this.z=Math.atan2(2*(a.z*a.w-a.x*a.y),a.w*a.w+a.x*a.x-a.y*a.y-a.z*a.z)}},a}),define("geom/Quaternion",[],function(){function b(a,b,c,d){this.x=a||0,this.y=b||0,this.z=c||0,this.w=d||1}var a;return b.isQuaternion=function(a){var b="number";return a&&typeof a.x===b&&typeof a.y===b&&typeof a.w===b},b.prototype={constructor:b,set:function(a,b,c,d){return this.x=a,this.y=b,this.z=c||0,this.w=!d&&d!==0?1:d,this},copy:function(a){return this.x=a.x,this.y=a.y,this.z=a.z||0,this.w=a.w||1,this},clone:function(){return new b(this.x,this.y,this.z,this.w)},equals:function(a){return a.x===this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},multiply:function(a){var b=this.x,c=this.y,d=this.z,e=this.w;return this.w=e*a.w-b*a.x-c*a.y-d*a.z,this.x=e*a.x+b*a.w+c*a.z-d*a.y,this.y=e*a.y+c*a.w+d*a.x-b*a.z,this.z=e*a.z+d*a.w+b*a.y-c*a.x,this},setFromEuler:function(b){var c=Math.sin,d=Math.cos,e=Math.PI/360,f=b.x*e,g=b.y*e,h=b.z*e,i=d(g),j=c(g),k=d(-h),l=c(-h),m=d(f),n=c(f);return this.set(0,0,l,k).multiply(a.set(0,j,0,i)).multiply(a.set(n,0,0,m)),this},divideScalar:function(a){return a?(this.x/=a,this.y/=a,this.z/=a,this.w/=a):(this.x=0,this.y=0,this.z=0,this.w=0),this},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.lengthSq())},normalize:function(){return this.divideScalar(this.length())},lerp:function(a,b){var c=this.x,d=this.y,e=this.z,f=this.w,g=f*a.w+c*a.x+d*a.y+e*a.z,h,i,j,k;return g<0?(this.set(-a.x,-a.y,-a.z,-a.w),g=-g):this.copy(a),h=Math.acos(g),i=Math.sqrt(1-g*g),Math.abs(i)<.001?(this.set(.5*(c+a.x),.5*(d+a.y),.5*(e+a.z),.5*(f+a.w)),this):(j=Math.sin((1-b)*h)/i,k=Math.sin(b*h)/i,this.set(c*j+this.x*k,d*j+this.y*k,e*j+this.z*k,f*j+this.w*k),this)},toJSON:function(){return{x:this.x,y:this.y,z:this.z,w:this.w}}},a=new b,b}),function(a){function c(a,b,c,d,e){this._listener=b,this._isOnce=c,this.context=d,this._signal=a,this._priority=e||0}function d(a,b){if(typeof a!="function")throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",b))}var b={VERSION:"0.7.4"};c.prototype={active:!0,params:null,execute:function(a){var b,c;return this.active&&!!this._listener&&(c=this.params?this.params.concat(a):a,b=this._listener.apply(this.context,c),this._isOnce&&this.detach()),b},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},getListener:function(){return this._listener},_destroy:function(){delete this._signal,delete this._listener,delete this.context},isOnce:function(){return this._isOnce},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},b.Signal=function(){this._bindings=[],this._prevParams=null},b.Signal.prototype={memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(a,b,d,e){var f=this._indexOfListener(a,d),g;if(f!==-1){g=this._bindings[f];if(g.isOnce()!==b)throw new Error("You cannot add"+(b?"":"Once")+"() then add"+(b?"Once":"")+"() the same listener without removing the relationship first.")}else g=new c(this,a,b,d,e),this._addBinding(g);return this.memorize&&this._prevParams&&g.execute(this._prevParams),g},_addBinding:function(a){var b=this._bindings.length;do--b;while(this._bindings[b]&&a._priority<=this._bindings[b]._priority);this._bindings.splice(b+1,0,a)},_indexOfListener:function(a,b){var c=this._bindings.length,d;while(c--){d=this._bindings[c];if(d._listener===a&&d.context===b)return c}return-1},has:function(a,b){return this._indexOfListener(a,b)!==-1},add:function(a,b,c){return d(a,"add"),this._registerListener(a,!1,b,c)},addOnce:function(a,b,c){return d(a,"addOnce"),this._registerListener(a,!0,b,c)},remove:function(a,b){d(a,"remove");var c=this._indexOfListener(a,b);return c!==-1&&(this._bindings[c]._destroy(),this._bindings.splice(c,1)),a},removeAll:function(){var a=this._bindings.length;while(a--)this._bindings[a]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(a){if(!this.active)return;var b=Array.prototype.slice.call(arguments),c=this._bindings.length,d;this.memorize&&(this._prevParams=b);if(!c)return;d=this._bindings.slice(),this._shouldPropagate=!0;do c--;while(d[c]&&this._shouldPropagate&&d[c].execute(b)!==!1)},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}},typeof define=="function"&&define.amd?define("extern/signals",b):typeof module!="undefined"&&module.exports?module.exports=b:a.signals=b}(this),define("core/Stack",["extern/signals"],function(a){function b(a,b){this.on.add.dispatch(a,b,this)}function c(a){if(!(a instanceof this.type_))throw"not the right type"}function d(b){this.items_=[],this.type_=Object,b&&b.prototype instanceof this.type_&&(this.type_=b),this.on={add:new a.Signal,remove:new a.Signal,swap:new a.Signal}}return d.prototype={constructor:d,items_:null,type_:null,index:function(a){return this.items_.indexOf(a)},have:function(a){return this.index(a)!==-1},get:function(a){return this.items_[a]},getLength:function(){return this.items_.length},add:function(a){c.call(this,a);if(!!this.have(a))throw"item already present";this.items_.push(a),b.call(this,a,this.length-1)},insert:function(a,d){c.call(this,a);var e=this.items_;if(!!this.have(a))throw"item already present";var f=e.length;d<f?e.splice(d,0,a):e.push(a),b.call(this,a,Math.max(d,this.length-1))},remove:function(a){var b=this.items_,c=b.indexOf(a);if(c===-1)throw"item not present";b.splice(c,1),this.on.remove.dispatch(a,c,this)},swap:function(a,b){var c=this.items_,d=c.indexOf(a),e=c.indexOf(b);if(d===-1||e===-1)throw"one of the items not present";c[d]=b,c[e]=a,this.on.swap.dispatch(d,e,this)},each:function(a){var b=this.items_,c=b.length,d=0;for(;d<c;d+=1)a(b[d])}},d}),define("path/Anchor",["geom/Vector"],function(a){function b(b,c,d,e,f,g){a.call(this,b,c),this.inVector=new a(d,e),this.outVector=new a(f,g)}return b.prototype=new a,b.prototype.constructor=b,b.prototype.clone=function(){return new b(this.x,this.y,this.inVector.x,this.inVector.y,this.outVector.x,this.outVector.y)},b.prototype.copy=function(b){return a.prototype.copy.call(this,b),b.inVector&&b.outVector&&(this.inVector.copy(b.inVector),this.outVector.copy(b.outVector)),this},b.prototype.equals=function(b){return b.inVector&&b.outVector&&this.inVector.equals(b.inVector)&&this.outVector.equals(b.outVector)&&a.prototype.equals.call(this,b)?!0:!1},b}),define("geom/cubicToQuadratic",[],function(){function a(b,c,d,e,f,g){var h=b.clone(),i=e.clone();if(d.equals(e))return f.curveTo(h.lerp(c,.89),e),f;if(c.equals(b))return f.curveTo(i.lerp(d,.89),e),f;h.lerp(c,1.5),i.lerp(d,1.5),g||(g=(Math.max(Math.max(h.max(),i.max()),Math.max(b.max(),e.max()))-Math.min(Math.min(h.min(),i.min()),Math.min(b.min(),e.min())))/350);var j=Math.sqrt(10.3923048/h.distance(i)*g);if(j>1)f.curveTo(h.lerp(i,.5),e);else{var k=b.clone(),l=k.clone().lerp(c,j),m=e,n=d.clone().lerp(e,j),o=c.clone().lerp(d,j),p=l.clone().lerp(o,j),q=o.lerp(n,j),r=p.clone().lerp(q,j);h=k.clone().lerp(l,1.5),i.copy(r).lerp(p,1.5),f.curveTo(h.lerp(i,.5),r.clone()),j<.5&&(j=1-j/(1-j),c=q.clone(),d=n.clone(),b=k.copy(r),l.copy(k).lerp(c,j),n.copy(d).lerp(e,j),o.copy(c).lerp(d,j),p.copy(l).lerp(o,j),q=o.lerp(n,j),r.copy(p).lerp(q,j),a(k,l,p.clone(),r.clone(),f,g)),h=r.clone().lerp(q,1.5),i=m.clone().lerp(n,1.5),f.curveTo(h.lerp(i,.5),e.clone())}return f}return a}),define("path/Line",[],function(){function a(a,b){this.start=a,this.end=b,this.update=!0}return a.prototype={constructor:a,length:function(){return this.update&&(this.length_=this.start.distance(this.end),this.update=!1),this.length_},getVect:function(a,b){return(b?b.copy(this.start):this.start.clone()).lerp(this.end,a)}},a}),define("path/QuadCurve",[],function(){function a(a,b,c,d){var e=.5*(b-a),f=.5*(a+b),g=d.clone(),h;return h=g.multiplyScalar(2*(f+e*-0.8611363116)).add(c).lengthSq()*.3478548451,h+=g.copy(d).multiplyScalar(2*(f+e*.8611363116)).add(c).lengthSq()*.3478548451,h+=g.copy(d).multiplyScalar(2*(f+e*-0.3399810436)).add(c).lengthSq()*.6521451549,h+=g.copy(d).multiplyScalar(2*(f+e*.3399810436)).add(c).lengthSq()*.6521451549,h}function b(a,b){var c=b[0],d=b[1],e=b[2],f=b[3],g=b[4],h,i,j,k;return a>=e?(h=(a-e)/(1-e),j=g,k=.75):a>=d?(h=(a-d)/(e-d),k=.5,j=g):a>=c?(h=(a-c)/(d-c),k=.25,j=f):(h=a/c,k=0,j=f),i=2*(1-h)*h,(i*j+h*h)*.25+k}function c(a,b,c){this.start=a,this.anchor=b,this.end=c,this.temp_=this.start.clone(),this.update=!0}return c.prototype={constructor:c,length:function(){if(this.update){this.update=!1;var b=this.anchor.clone().sub(this.start).multiplyScalar(2),c=this.start.clone().sub(this.anchor.clone().multiplyScalar(2)).add(this.end),d=Math.sqrt,e=5.65685425,f,g,h,i,j,k;g=d(a(0,.25,b,c))/e,h=d(a(.25,.5,b,c))/e,i=d(a(.5,.75,b,c))/e,f=g+h+i+d(a(.75,1,b,c))/e,i=(g+h+i)/f,h=(g+h)/f,g/=f,j=.5+(1-g/(h-g))/4,k=.5-(1-(1-i)/(i-h))/5,this.length_=f,this.inverse_=[g,h,i,j,k]}return this.length_},getVect:function(a,c){this.length();var d=b(a,this.inverse_),e=c?c.copy(this.start):this.start.clone();return e.lerp(this.anchor,d).lerp(this.temp_.copy(this.anchor).lerp(this.end,d),d)}},c}),define("path/SimplePath",["./Line","./QuadCurve"],function(a,b){function c(a){this.start=a||0,this.elements=[],this.update=!0}return c.prototype={constructor:c,length:function(){if(this.update){var a=0,b=this.elements.length,c=0;this.update=!1,this.lengths_=[a];for(;c<b;c+=1)a+=this.elements[c].length(),this.lengths_.push(a);this.lastPos_=0,this.lastItemPos_=0,this.length_=a}return this.length_},add:function(a){this.elements.push(a),this.start=a.end,this.update=!0},getItem:function(a){a*=this.length();var b=a>=this.lastPos_?1:-1,c=this.elements.length,d,e;for(var f=this.lastItemPos_;f<c;f+=b){d=this.lengths_[f],e=this.elements[f];if(a>=d&&a<d+e.length())return this.lastItemPos_=f,this.lastPos_=d,e}},getVect:function(a,b){var c=this.getItem(a);return a*=this.length(),c?c.getVect((a-this.lastPos_)/c.length(),b):b?b.copy(this.start):this.start.clone()},lineTo:function(b){this.add(new a(this.start,b))},curveTo:function(a,c){this.add(new b(this.start,a,c))}},c}),define("path/CurvePatch",["./SimplePath","geom/cubicToQuadratic","geom/Vector","./Line"],function(a,b,c,d){function h(a,b){this.start=a,this.end=b,this.update=!0}var e=new c,f=new c,g=new c;return h.prototype={constructor:h,length:function(){return this.update&&(this.update=!1,this.path=this.isLine()?new d(this.start,this.end):b(this.start,f.copy(this.start.outVector).add(this.start),g.copy(this.end.inVector).add(this.end),this.end,new a(this.start)),this.length_=this.path.length()),this.length_},isLine:function(){return this.start.outVector==null&&this.end.inVector==null||this.start.outVector.equals(e)&&this.end.inVector.equals(e)},getVect:function(a,b){return this.length(),this.path.getVect(a,b)}},h}),define("path/Path",["core/Stack","./Anchor","path/CurvePatch","path/SimplePath","geom/Vector"],function(a,b,c,d,e){function f(){a.call(this),this.closed=!1,this.update=!0,this.path_=null;var b=function(){this.update=!0};this.on.add.add(b,this),this.on.remove.add(b,this),this.on.swap.add(b,this)}return f.prototype=new a,f.prototype.constructor=f,f.prototype.create=function(a,c,d,e,f,g){var h=new b(a,c,d,e,f,g);return this.add(h),h},f.prototype.getLogicalPath=function(){var a,b,e;return this.update&&(this.update=!1,b=new d,this.each(function(a){e&&b.add(new c(e,a)),e=a}),this.path_=b),a=this.path_.elements[this.path_.elements.length-1],this.closed!==(this.get(0)===a.end)&&(this.closed?(a=this.get(this.getLength()-1),this.path_.add(new c(a,a.outVector,this.get(0).inVector,this.get(0)))):(this.path_.remove(a),this.path_.update=!0)),this.path_},f}),define("animation/KeyFrame",[],function(){function a(a,b,c){this.offset=a,this.position_=0,this.value=b,this.isHold=c,this.inX=0,this.inY=0,this.outX=0,this.outY=0,this.inTangent=null,this.outTangent=null,this.path=null,this.update=!1}return a}),define("animation/AnimatorStack",["core/Stack"],function(a){function b(b){a.call(this),this.item=b,this.duration=1,this.frameRate=25,this.clamp=!1}return b.prototype=new a,b.prototype.constructor=b,b.prototype.animate=function(a){var b=this.items_,c=b.length,d=0;a%=this.duration,this.clamp&&(a=Math.floor(a*this.frameRate)/this.frameRate);if(a!==this.prevTime_){for(;d<c;d+=1)b[d].animate(a);this.prevTime_=a}},b}),define("geom/bezierEase",[],function(){function a(a,c,d,e,f,g){c=c||0,e=e||0;var h=b(a||0,d||0,f||0,g),i=c*3,j=3*(e-c)-i,k=1-i-j;return((k*h+j)*h+i)*h}function b(a,b,d,e){var f=3*a,g=3*(b-a)-f,h=1-f-g,i=g*2,j=h*3,k,l,m,n,o,p;e||(e=1e-4),m=d;for(p=0;p<8;p+=1){n=((h*m+g)*m+f)*m-d;if(c(n)<e)return m;o=(j*m+i)*m+f;if(c(o)<1e-6)break;m-=n/o}k=0,l=1,m=d;if(m<k)return k;if(m>l)return l;p=0;while(k<l&&p<10){n=((h*m+g)*m+f)*m;if(c(n-d)<e)return m;d>n?k=m:l=m,m=(l-k)*.5+k,p+=1}return m}function c(a){return a>=0?a:0-a}return a}),define("animation/Keys",["geom/bezierEase","./KeyFrame"],function(a,b){function c(a,b){this.target=a,this.property=b,this.keys_=[],this.length_=0}return c.prototype={constructor:c,length:function(){var a=this.keys_,b,c,d,e;if(this.update){d=a.length,e=0,c=0;for(;c<d;c+=1)b=a[c],e+=b.offset,b.position_=e,b.update&&b.path&&(b.inTangent||b.outTangent)&&(this.path=null,b.update=!1);this.length_=e,this.update=!1}return this.length_},num:function(){return this.keys_.length},indexAt:function(a){var b=this.keys_,c=this.prevIndex_||0,d=a>=(this.prevPosition_||0)?1:-1;this.length(),this.prevPosition_=a;if(a<=b[0].position_)return this.prevIndex_=0,this.prevIndex_;if(a>=b[b.length-1].position_)return this.prevIndex_=b.length-1,this.prevIndex_;while(b[c]){if(a>=b[c].position_&&(!b[c+1]||a<b[c+1].position_))return this.prevIndex_=c,this.prevPosition_=a,this.prevIndex_;c+=d}return this.prevIndex_=0,this.prevIndex_},get:function(b,c){var d=this.indexAt(b),e=this.keys_[d],f,g;if(d===0&&b<=e.offset||d>=this.num()-1||e.isHold)return e.value;f=this.keys_[d+1],g=(b-e.position_)/f.offset;if(e.outX||e.outY||f.inX||f.inY)g=a(e.outX,e.outY,f.inX,f.inY,g);return this.interpolate(e,f,g,c)},interpolate:function(a,b,c){return a.value+(b.value-a.value)*c},set:function(a){var b=this.get(a);this.target[this.property]!==b&&(this.target[this.property]=b)},add:function(a,c,d){var e=new b(a,c,d);return this.length_+=a,e.position_=this.length_,this.keys_.push(e),e}},c}),define("animation/Animator",["core/Stack","./Keys"],function(a,b){function c(c,d,e,f){a.call(this),this.layer=c,this.inPoint=d||0,this.outPoint=e||1/0,this.source=f,this.startTime=0,this.speed=1,this.remap=new b}return c.prototype=new a,c.prototype.constructor=c,c.prototype.animate=function(a){var b=this.layer,c=this.items_,d=0,e;if(a>=this.inPoint&&a<=this.outPoint){b.visible=!0,e=c.length;for(;d<e;d+=1)c[d].set(a);this.source&&(this.remap.num()?this.source.animate(this.remap.get(a-this.startTime)):this.source.animate((a-this.startTime)*this.speed))}else b.visible=!1},c}),define("path/CubicCurve",["./SimplePath","geom/cubicToQuadratic"],function(a,b){function c(a,b,c,d){this.start=a,this.a1=b,this.a2=c,this.end=d,this.update=!0}return c.prototype={constructor:c,length:function(){return this.update&&(this.update=!1,this.path=b(this.start,this.a1,this.a2,this.end,new a(this.start)),this.length_=this.path.length()),this.length_},getVect:function(a,b){return this.length(),this.path.getVect(a,b)}},c}),define("animation/SpatialKeys",["./Keys","path/CubicCurve"],function(a,b){function c(b,c){a.call(this,b,c),this.temp_=b[c].clone()}return c.prototype=new a,c.prototype.constructor=c,c.prototype.interpolate=function(a,c,d,e){return a.update&&(a.outTangent&&c.inTangent?a.path=new b(a.value,a.outTangent.clone().add(a.value),c.inTangent.clone().add(c.value),c.value):a.path=null,a.update=!1),a.path?a.path.getVect(d,e):(e?e.copy(a.value):a.value.clone()).lerp(c.value,d)},c.prototype.set=function(a){var b=this.get(a,this._temp),c=this.target[this.property];c.equals&&!c.equals(b)&&c.copy(b)},c}),define("animation/PathKeys",["./Keys","path/Path","path/Anchor"],function(a,b,c){function e(b){a.call(this,b,""),this.path=b}var d=new c;return e.prototype=new a,e.prototype.constructor=e,e.prototype.interpolate=function(a,c,d,e){e||(e=new b);var f=a.value,g=c.value,h=e.getLength(),i=f.getLength(),j,k,l;h!==i&&(e.update=!0);if(h<i)for(;h<i;h+=1)e.add(f.get(h).clone());else if(h>i)for(;h>i;h-=1)e.remove(e.get(h-1));h=0,i=Math.min(i,g.getLength());for(;h<i;h+=1)j=e.get(h),k=f.get(h),l=g.get(h),j.copy(k).lerp(l,d),j.inVector&&j.outVector&&(j.inVector.copy(k.inVector).lerp(l.inVector,d),j.outVector.copy(k.outVector).lerp(l.outVector,d))},e.prototype.set=function(a){this.get(a,this.path)},e}),define("animation",["animation/KeyFrame","animation/Animator","animation/AnimatorStack","animation/Keys","animation/SpatialKeys","animation/PathKeys"],function(a,b,c,d,e,f){return{KeyFrame:a,Animator:b,AnimatorStack:c,Keys:d,SpatialKeys:e,PathKeys:f}}),define("geom/Matrix",["./Vector"],function(a){function f(){arguments.length&&this.injectArray(arguments)}var b=new a,c=new a,d=new a,e;return f.prototype={constructor:f,m11:1,m12:0,m13:0,m14:0,m21:0,m22:1,m23:0,m24:0,m31:0,m32:0,m33:1,m34:0,m41:0,m42:0,m43:0,m44:1,set:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this;return q.m11=a,q.m12=b,q.m13=c,q.m14=d,q.m21=e,q.m22=f,q.m23=g,q.m24=h,q.m31=i,q.m32=j,q.m33=k,q.m34=l,q.m41=m,q.m42=n,q.m43=o,q.m44=p,this},injectArray:function(a){return this.set.apply(this,a)},injectMatrix:function(a){var b=this;return b.m11=a.m11,b.m12=a.m12,b.m13=a.m13,b.m14=a.m14,b.m21=a.m21,b.m22=a.m22,b.m23=a.m23,b.m24=a.m24,b.m31=a.m31,b.m32=a.m32,b.m33=a.m33,b.m34=a.m34,b.m41=a.m41,b.m42=a.m42,b.m43=a.m43,b.m44=a.m44,b},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},translation:function(a,b,c){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,a||0,b||0,c||0,1),this},translate:function(a,b,c){return this.m41+=a||0,this.m42+=b||0,this.m43+=c||0,this},scaling:function(a,b,c){return this.set(a||0,0,0,0,0,b||0,0,0,0,0,c||0,0,0,0,0,1),this},scale:function(a,b,c){a=a||1e-6,b=b||1e-6,c=c||1e-6;if(a!==1||b!==1||c!==1)this.m11*=a,this.m21*=a,this.m31*=a,this.m41*=a,this.m12*=b,this.m22*=b,this.m32*=b,this.m42*=b,this.m13*=c,this.m23*=c,this.m33*=c,this.m43*=c;return this},rotation:function(a,b,c){var d=Math.PI/180,e=Math.cos,f=Math.sin,g,h,i,j,k,l,m,n,o,p;return this.identity(),a=(a||0)*d,b=(b||0)*d,c=(-c||0)*d,g=e(a),h=f(a),i=e(b),j=f(b),k=e(c),l=f(c),m=g*k,n=g*l,o=h*k,p=h*l,this.m11=i*k,this.m12=o*j-n,this.m13=m*j+p,this.m21=i*l,this.m22=p*j+m,this.m23=n*j-o,this.m31=-j,this.m32=h*i,this.m33=g*i,this.m41=this.m42=this.m43=0,this},rotate:function(a,b,c){return a||b||c?this.multiply(e.rotation(a,b,c)):this},quaternionRotation:function(a,b,c,d){var e=d*d,f=a*a,g=b*b,h=c*c,i=1/(f+g+h+e),j,k;return this.m11=(f-g-h+e)*i,this.m22=(-f+g-h+e)*i,this.m33=(-f-g+h+e)*i,j=a*b,k=c*d,this.m21=2*(j+k)*i,this.m12=2*(j-k)*i,j=a*c,k=b*d,this.m31=2*(j-k)*i,this.m13=2*(j+k)*i,j=b*c,k=a*d,this.m32=2*(j+k)*i,this.m23=2*(j-k)*i,this},quaternionRotate:function(a,b,c,d){return d=!d&&d!==0?1:d,this.multiply(e.quaternionRotation(a,b,c,d))},lookingAt:function(a,e,f){var g=b.set(0,1,0),h=c,i=d.set(-a,-e,f).normalize();return g.cross(i),h.copy(i).cross(g),g.normalize(),h.normalize(),this.set(g.x,g.y,g.z,0,h.x,h.y,h.z,0,i.x,i.y,i.z,0,0,0,0,1),this},lookAt:function(a,b,c){return a||b?this.multiply(e.lookingAt(a,b,c)):this},determinant:function(){return-this.m13*this.m22*this.m31+this.m12*this.m23*this.m31+this.m13*this.m21*this.m32-this.m11*this.m23*this.m32-this.m12*this.m21*this.m33+this.m11*this.m22*this.m33},invert:function(){var a=this.m11,b=this.m12,c=this.m13,d=this.m21,e=this.m22,f=this.m23,g=this.m31,h=this.m32,i=this.m33,j=this.m41,k=this.m42,l=this.m43,m=1/this.determinant();return this.m11=(-f*h+e*i)*m,this.m12=(c*h-b*i)*m,this.m13=(-c*e+b*f)*m,this.m14=0,this.m21=(f*g-d*i)*m,this.m22=(-c*g+a*i)*m,this.m23=(c*d-a*f)*m,this.m24=0,this.m31=(-e*g+d*h)*m,this.m32=(b*g-a*h)*m,this.m33=(-b*d+a*e)*m,this.m34=0,this.m41=(f*h*j-e*i*j-f*g*k+d*i*k+e*g*l-d*h*l)*m,this.m42=(b*i*j-c*h*j+c*g*k-a*i*k-b*g*l+a*h*l)*m,this.m43=(c*e*j-b*f*j-c*d*k+a*f*k+b*d*l-a*e*l)*m,this.m44=1,this},createInvert:function(){return this.clone().invert()},clone:function(){return(new f).set(this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44)},join:function(a,b){var c=a.m11,d=a.m12,e=a.m13,f=a.m14,g=a.m21,h=a.m22,i=a.m23,j=a.m24,k=a.m31,l=a.m32,m=a.m33,n=a.m34,o=a.m41,p=a.m42,q=a.m43,r=a.m44,s=b.m11,t=b.m12,u=b.m13,v=b.m14,w=b.m21,x=b.m22,y=b.m23,z=b.m24,A=b.m31,B=b.m32,C=b.m33,D=b.m34,E=b.m41,F=b.m42,G=b.m43,H=b.m44;return this.m11=c*s+d*w+e*A+f*E,this.m12=c*t+d*x+e*B+f*F,this.m13=c*u+d*y+e*C+f*G,this.m14=c*v+d*z+e*D+f*H,this.m21=g*s+h*w+i*A+j*E,this.m22=g*t+h*x+i*B+j*F,this.m23=g*u+h*y+i*C+j*G,this.m24=g*v+h*z+i*D+j*H,this.m31=k*s+l*w+m*A+n*E,this.m32=k*t+l*x+m*B+n*F,this.m33=k*u+l*y+m*C+n*G,this.m34=k*v+l*z+m*D+n*H,this.m41=o*s+p*w+q*A+r*E,this.m42=o*t+p*x+q*B+r*F,this.m43=o*u+p*y+q*C+r*G,this.m44=o*v+p*z+q*D+r*H,this},multiply:function(a){return this.join(this,a)},preMultiply:function(a){return this.join(a,this)},multiplyVector:function(a){var b=a.x,c=a.y,d=a.z;return a.x=this.m11*b+this.m21*c+this.m31*d+this.m41,a.y=this.m12*b+this.m22*c+this.m32*d+this.m42,a.z=this.m13*b+this.m23*c+this.m33*d+this.m43,a},toCSS:function(){return"matrix3d("+this.m11.toFixed(4)+","+this.m12.toFixed(4)+","+this.m13.toFixed(4)+","+this.m14.toFixed(4)+","+this.m21.toFixed(4)+","+this.m22.toFixed(4)+","+this.m23.toFixed(4)+","+this.m24.toFixed(4)+","+this.m31.toFixed(4)+","+this.m32.toFixed(4)+","+this.m33.toFixed(4)+","+this.m34.toFixed(4)+","+this.m41.toFixed(4)+","+this.m42.toFixed(4)+","+(this.m43+.001).toFixed(4)+","+this.m44.toFixed(4)+")"},toArray:function(){return[this.m11,this.m12,this.m13,this.m14,this.m21,this.m22,this.m23,this.m24,this.m31,this.m32,this.m33,this.m34,this.m41,this.m42,this.m43,this.m44]}},e=new f,f}),define("graph/LayerBase",["../geom/Matrix"],function(a){function b(){this.is3D=!0,this.parent=null,this.visible=!0,this.name=null,this.type="null",this.matrix_=new a,this.matrix2D_=new a}return b.prototype={constructor:b,getMatrix:function(){if(!this.is3D)return this.getMatrix2D();var a=this.matrix_.injectMatrix(this.getLocalMatrix()),b=this.parent;return b&&b!==this&&a.multiply(b.getMatrix()),a},getMatrix2D:function(){var a=this.matrix2D_.injectMatrix(this.getLocalMatrix2D()),b=this.parent;return b&&a.multiply(b.getMatrix2D()),a},getLocalMatrix:function(){return new a},getLocalMatrix2D:function(){return new a}},b}),define("graph/Layer",["geom/Vector","geom/Quaternion","geom/Matrix","core/Stack","./LayerBase"],function(a,b,c,d,e){function f(){e.call(this),this.filters=new d,this.masks=new d,this.collapse=!1,this.position=new a,this.anchor=new a,this.scale=new a(1,1,1),this.rotation=new a,this.orientation=new b,this.opacity=1,this.type="null",this.localMatrix_=new c,this.localMatrix2D_=new c,this.depthPoint_=new a}return f.prototype=new e,f.prototype.constructor=f,f.prototype.getLocalMatrix=function(){var a=this.position,b=this.anchor,c=this.scale,d=this.rotation,e=this.orientation;return this.localMatrix_.translation(-b.x,-b.y,b.z).scale(c.x,c.y,c.z).rotate(d.x,d.y,d.z).quaternionRotate(e.x,e.y,e.z,e.w).translate(a.x,a.y,-a.z)},f.prototype.getLocalMatrix2D=function(){var a=this.position,b=this.anchor,c=this.scale;return this.localMatrix2D_.translation(-b.x,-b.y,0).scale(c.x,c.y,1).rotate(0,0,this.rotation.z).translate(a.x,a.y,0)},f.prototype.getDepthPoint=function(){return this.depthPoint_.set(Math.max(Math.min(this.width||1024,this.anchor.x),0),Math.max(Math.min(this.height||768,this.anchor.y),0),0)},f}),define("graph/Solid",["./Layer"],function(a){function b(){a.call(this),this.color="#000000",this.width=640,this.height=360,this.type="solid"}return b.prototype=new a,b.prototype.constructor=b,b}),define("graph/Text",["geom/Vector","./Layer"],function(a,b){function c(){b.call(this),this.text="",this.textPosition=new a,this.width=150,this.height=150,this.textClass=null,this.fontFamily="Arial",this.textColor="#888888",this.fontSize=18,this.lineHeight=1.2,this.letterSpacing=0,this.textAlign="left",this.verticalAlign="top",this.collapse=!0,this.type="text"}return c.prototype=new b,c.prototype.constructor=c,c.prototype.getDepthPoint=function(){var a=this.textPosition.x,b=this.textPosition.y;return this.textAlign==="center"?a+=this.width*.5:this.textAlign==="right"&&(a+=this.width),this.verticalAlign==="middle"?b+=this.height*.5:this.verticalAlign==="bottom"&&(b+=this.height),this.depthPoint_.set(a,b)},c}),define("graph/Camera",["geom/Vector","geom/Quaternion","geom/Matrix","./LayerBase"],function(a,b,c,d){function e(){d.call(this),this.position=new a,this.rotation=new a,this.orientation=new b,this.target=new a,this.haveTarget=!0,this.zoom=1333.33,this.center=new a,this.is3D=!0,this.type="camera",this.localMatrix_=new c,this.localMatrix2D_=new c,this.matrixCamera_=new c,this.tMatCamera_=new c}return e.prototype=new d,e.prototype.constructor=e,e.prototype.getLocalMatrix=function(){var a=this,b=a.rotation,c=a.target,d=a.position,e=a.orientation,f=this.localMatrix_.rotation(b.x,b.y,b.z);return f.m41=f.m42=f.m43=0,f.quaternionRotate(e.x,e.y,e.z,e.w),a.haveTarget&&f.lookAt(c.x-d.x,c.y-d.y,c.z-d.z),f.translate(d.x,d.y,-d.z),f},e.prototype.getLocalMatrix2D=function(){return this.localMatrix2D_.rotation(0,0,this.rotation.z).translate(this.position.x,this.position.y,0)},e.prototype.getCameraMatrix=function(){var a=this.center;return this.matrixCamera_.translation(a.x,a.y,this.zoom).preMultiply(this.tMatCamera_.identity().injectMatrix(this.getMatrix()).invert())},e.prototype.align=function(a,b){this.center.x=this.position.x=a,this.center.y=this.position.y=b,this.position.z=-this.zoom},e}),define("graph/Composition",["core/Stack","./Layer","./Camera"],function(a,b,c){function d(){b.call(this);var d;this.layers=new a(b),this.cameras=new a(c),this.width=640,this.height=360,this.color="#000000",this.type="composition",d=new c,d.haveTarget=!1,d.align(this.width/2,this.height/2),this.defaultCam_=d}return d.prototype=new b,d.prototype.constructor=d,d.prototype.getCamera=function(){var a=0,b=this.cameras.getLength(),c;for(a=0;a<b;a+=1){c=this.cameras.get(a);if(c.visible)return c.center.set(this.width/2,this.height/2),c}return c=this.defaultCam_,c.align(this.width/2,this.height/2),c},d}),define("graph/Mask",["path/Path","geom/Vector"],function(a,b){function c(){a.call(this),this.inverted=!1,this.feather=new b,this.opacity=1,this.expansion=0,this.blending="normal"}return c.prototype=new a,c.prototype.constructor=c,c}),define("graph",["graph/Solid","graph/Text","graph/Camera","graph/Composition","graph/Mask"],function(a,b,c,d,e){return{Solid:a,Text:b,Camera:c,Composition:d,Mask:e}}),define("builders/aeBuilder",["geom/Vector","geom/Quaternion","path/Path","animation","graph"],function(a,b,c,d,e){function h(a){return k(a.items[a.root],a.items)}function i(a,b){var c=new e.Composition,d=new f(c),g=a.layers,h={},i={},j="",k=0,l,m;c.width=a.width,c.height=a.height,c.color=a.color||"#000000",d.duration=a.duration||1,d.frameRate=a.frameRate||25;for(;k<g.length;k+=1){l=g[k],m=null;switch(l.type){case"Camera":m=o(l),m.layer.center.set(c.width/2,c.height/2);break;case"Text":m=p(l);break;default:l.source&&(m=n(l,b))}m&&(l.parent!=null&&(h[l.parent]||(h[l.parent]=[]),h[l.parent].push(m.layer)),i[l.id]=m.layer,d.add(m),m.layer instanceof e.Camera?c.cameras.add(m.layer):c.layers.add(m.layer))}for(j in h)if(h.hasOwnProperty(j)&&Array.isArray(h[j])&&i.hasOwnProperty(j))for(k=0;k<h[j].length;k+=1)h[j][k].parent=i[j];return d}function j(a,b){var c=new e.Solid,d=new f(c);return c.width=a.width,c.height=a.height,c.color=a.color,d}function k(a,b){switch(a.type){case"Composition":return i(a,b);case"Solid":return j(a,b);case"Image":return l(a,b);case"Video":return m(a,b)}}function l(a,b){}function m(a,b){}function n(a,b){var c=k(b[a.source],b),d=c.item,e=new g(d,a.inPoint,a.outPoint);return q(e,a),e.source=c,e.startTime=a.startTime||0,e.speed=a.speed||1,e}function o(a){var b=new e.Camera,c=new g(b,a.inPoint,a.outPoint);return b.name=b.name,b.haveTarget=a.autoOrient!=="none"||a.autoOrient==="target",t(b,"position",c,a.position),t(b,"rotation",c,a.rotation),t(b,"orientation",c,a.orientation),t(b,"zoom",c,a.zoom),b.haveTarget&&t(b,"target",c,a.target),c}function p(a){var b=new e.Text,c=new g(b,a.inPoint,a.outPoint),d=["text","textPosition","width","height","textClass","fontFamily","textColor","fontSize","lineHeight","letterSpacing","textAlign","verticalAlign"],f=0,h=d.length;q(c,a);for(;f<h;f+=1)t(b,d[f],c,a[d[f]]);return c}function q(a,b){var c=a.layer;c.name=b.name,c.is3D=b.is3D||!1,b.collapse!=null&&(c.collapse=b.collapse===!0),b.masks&&r(c.masks,b.masks,a),t(c,"position",a,b.position),t(c,"anchor",a,b.anchor),t(c,"scale",a,b.scale),t(c,"opacity",a,b.opacity),c.is3D?(t(c,"rotation",a,b.rotation),t(c,"orientation",a,b.orientation)):t(c.rotation,"z",a,b.rotation)}function r(a,b,c){var d=0,f=b.length,g,h,i,j,k,l;for(;d<f;d+=1)g=b[d],g.maskPath&&(i=new e.Mask,i.closed=g.maskPath.closed||!0,i.inverted=g.inverted||!1,i.blending=g.maskMode||"normal",t(i,"",c,g.maskPath),t(i,"feather",c,g.maskFeather),t(i,"opacity",c,g.maskOpacity),t(i,"expansion",c,g.maskExpansion),a.add(i))}function s(a,b){var c=0,d=a.data.length,e;for(;c<d;c+=1)e=a.data[c],b.create(e[0],e[1],e[2]||0,e[3]||0,e[4]||0,e[5]||0);return a.closed&&(b.closed=!0),b}function t(e,f,g,h){if(!h&&h!==0)return;var i,j,k,l,m,n,o,p,q,r,u,v,w=e[f];if(Array.isArray(h)){u=null,m=0,l=Array.isArray(h[0])?h[0][0]:typeof h[0]=="object"&&h[0].v?h[0].v:h[0],u=a.isVector(l),o=u?new d.SpatialKeys(e,f):typeof h[0]=="object"&&l.data?new d.PathKeys(e):new d.Keys(e,f);for(i=0;i<h.length;i+=1)j=h[i],q=typeof j=="object",r=Array.isArray(j),n=r||!q||j.e&&j.e.o===0,k=r?j[0]:q&&j.v!=null?j.v:j,v=a.isVector(k),v?k.w!==undefined?k=new b(k.x,k.y,k.z,k.w):k=new a(k.x,k.y,k.z):k.data&&(k=s(k,new c)),r?m=j[1]:q&&j.d!==undefined&&(m=j.d||0),p=o.add(m,k,n),j.e&&Array.isArray(j.e.i)&&(p.inX=j.e.i[0],p.inY=j.e.i[1]),j.e&&Array.isArray(j.e.o)&&(p.outX=j.e.o[0],p.outY=j.e.o[1]),u&&j.t&&(Array.isArray(j.t.i)&&(p.inTangent=new a(j.t.i[0],j.t.i[1],j.t.i[2])),Array.isArray(j.t.o)&&(p.outTangent=new a(j.t.o[0],j.t.o[1],j.t.o[2])),p.update=!0);o&&g.add(o)}else h.x!=null&&h.y!=null?(t(w,"x",g,h.x),t(w,"y",g,h.y),h.z!=null&&t(w,"z",g,h.z),h.w!=null&&t(w,"w",g,h.w)):h.data?s(h,e):e[f]=h}var f=d.AnimatorStack,g=d.Animator;return{build:h}}),define("text!style/scene.css",[],function(){return"\nscene * {\n    position:absolute;\n    display:block;\n    top:0;\n    left:0;\n    margin:0;\n    padding:0;\n    border:0;\n    word-wrap:break-word;\n    -webkit-font-smoothing:antialiased;\n    transform-origin:0% 0%;\n    -o-transform-origin:0% 0%;\n    -khtml-transform-origin:0% 0%;\n    -moz-transform-origin:0% 0%;\n    -webkit-transform-origin:0% 0%;\n    -ms-transform-origin:0% 0%;\n}\n\nscene .filter {\n    -ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity=100)\";\n    filter: progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand') progid:DXImageTransform.Microsoft.Alpha(opacity=100);\n}\n\nscene.no_collapse > composition, .no_collapse > composition {\n\n    transform-style: flat;\n    -o-transform-style: flat;\n    -khtml-transform-style: flat;\n    -moz-transform-style: flat;\n    -webkit-transform-style: flat;\n    -ms-transform-style: flat;\n}\n\nscene .no_collapse {\n    overflow: hidden;\n}\n\n\n"}),define("geom/Matrix2D",["./Vector"],function(a){function f(){arguments.length&&this.injectArray(arguments)}var b=new a,c=new a,d=new a,e;return f.prototype={constructor:f,m11:1,m12:0,m21:0,m22:1,x:0,y:0,z:0,set:function(a,b,c,d,e,f,g){return this.m11=a,this.m12=b,this.m21=c,this.m22=d,this.x=e,this.y=f,this.z=g,this},injectArray:function(a){return this.set.apply(this,a)},injectMatrix:function(a){return this.m11=a.m11,this.m12=a.m12,this.m21=a.m21,this.m22=a.m22,this.x=a.x,this.y=a.y,this.z=a.z,this},identity:function(){return this.set(1,0,0,1,0,0,0),this},translation:function(a,b,c){return this.set(1,0,0,1,a||0,b||0,c||0,1),this},translate:function(a,b,c){return this.x+=a||0,this.y+=b||0,this.z+=c||0,this},preTranslate:function(a,b,c){return this.x+=a*this.m11+b*this.m21,this.y+=a*this.m12+b*this.m22,this.z+=c||0,this},scaling:function(a,b){return this.set(a||0,0,b||0,0,0,0),this},scale:function(a,b){a=a||1e-6,b=b||1e-6;if(a!==1||b!==1)this.m11*=a,this.m12*=a,this.x*=a,this.m21*=b,this.m22*=b,this.y*=b;return this},rotation:function(a){return this},rotate:function(a){return a?this.multiply(e.rotation(a)):this},clone:function(){return(new f).set(this.m11,this.m12,this.m21,this.m22,this.x,this.y,this.z)},join:function(a,b){var c=a.m11,d=a.m12,e=a.m21,f=a.m22,g=a.x,h=a.y,i=b.m11,j=b.m12,k=b.m21,l=b.m22,m=b.x,n=b.y;return this.m11=c*i+d*k,this.m12=c*j+d*l,this.m21=e*i+f*k,this.m22=e*j+f*l,this.x=g*i+h*k+m,this.y=g*j+h*l+n,this},multiply:function(a){return this.join(this,a)},preMultiply:function(a){return this.join(a,this)},multiplyVector:function(a){var b=a.x,c=a.y;return a.x=this.m11*b+this.m21*c+this.x,a.y=this.m12*b+this.m22*c+this.y,a},copy3D:function(a){return this.m11=a.m11,this.m12=a.m12,this.m21=a.m21,this.m22=a.m22,this.x=a.m41,this.y=a.m42,this},simulate3D:function(a,e,f,g){var h=b.copy(f).multiplyMatrix(a).flatten(g,e),i=c.set(f.x+1,f.y,0).multiplyMatrix(a).flatten(g,e).sub(h),j=d.set(f.x,f.y+1,0).multiplyMatrix(a).flatten(g,e).sub(h);return this.m11=i.x,this.m12=i.y,this.m21=j.x,this.m22=j.y,this.x=h.x-(f.x*this.m11+f.y*this.m21),this.y=h.y-(f.x*this.m12+f.y*this.m22),this},toCSS:function(){var a=this;return"matrix("+a.m11.toFixed(4)+","+a.m12.toFixed(4)+","+a.m21.toFixed(4)+","+a.m22.toFixed(4)+","+a.x.toFixed(4)+","+a.y.toFixed(4)+")"},toArray:function(){var a=this;return[a.m11,a.m12,a.m21,a.m22,a.x,a.y]}},e=new f,f}),define("geom/Rectangle",[],function(){function a(a,b,c,d){this.x=a||0,this.y=b||0,this.width=c||100,this.height=d||100}return a.prototype={constructor:a,clone:function(){return new a(this.x,this.y,this.width,this.height)},compare:function(a){return a===null?!1:a.x!==this.x||a.y!==this.y||a.width!==this.width||a.height!==this.height?!1:!0},multiplyScalar:function(a){this.width*=a,this.height*=a,this.x*=a,this.y*=a}},a}),define("renderers/dom/Solid",[],function(){function a(a){this.element=document.createElement("solid"),this.model=a}return a.prototype={constructor:a,render:function(a){var b=this.element.style,c=this.model;return b.width=c.width+"px",b.height=c.height+"px",b.backgroundColor=c.color,a&&(a.x=0,a.y=0,a.width=c.width,a.height=c.height),a}},a}),define("renderers/dom/Text",[],function(){function a(a,b){var c=!1,d,e;for(var f in b)b.hasOwnProperty(f)&&(d=a[f],e=b[f],d===e||typeof d=="object"&&d!==null?d!=null&&d.clone&&d.equals&&(d.equals(e)||(c=!0,b[f]=d.clone())):(c=!0,b[f]=d));return c}function b(a){this.model=a,this.element=document.createElement("text"),this.text=document.createElement("p"),this.element.appendChild(this.text),this.oldX=0,this.oldY=0,this.offsetY=0,this.oldModel={text:null,textClass:null,fontFamily:null,textColor:null,fontSize:null,lineHeight:null,letterSpacing:null,textAlign:null,verticalAlign:null,width:null,height:null}}return b.prototype={constructor:b,render:function(b){var c=this.model,d=this.text.style,e=c.fontSize,f=6,g=c.height,h=e*c.leading-e,i=0,j;if(a(this.model,this.oldModel)){j=document.createTextNode(c.text),this.node?this.text.replaceChild(j,this.node):this.text.appendChild(j),this.node=j,d.width=c.width+"px",d.color=c.textColor,d.textAlign=c.textAlign,d.fontFamily=c.fontFamily,d.fontSize=c.fontSize+"px",d.lineHeight=c.lineHeight+"em",h=e*c.lineHeight-e;while(i<=f&&this.text.offsetHeight-h>=g)e*=.92,h=e*c.lineHeight-e,d.fontSize=e+"px",i+=1;this.offsetY=c.textPosition.y-h/2;var k=g-(this.text.offsetHeight-h/2);switch(c.verticalAlign){case"bottom":this.offsetY+=k;break;case"middle":this.offsetY+=k/2;break;default:}}return this.oldX=c.textPosition.x,this.oldY=this.offsetY,b&&(b.x=this.oldX,b.y=this.oldY-10,b.width=c.width,b.height=this.text.offsetHeight),b}},b}),define("renderers/canvas/fastBlur",[],function(){function c(c,d,e){if(isNaN(d)||d<1)return c;d|=0,isNaN(e)&&(e=1),e|=0,e>3&&(e=3),e<1&&(e=1);var f=c.width,g=c.height,h=c.data,i=f-1,j=g-1,k=f*g,l=d+1,m=a[d],n=b[d],o=[],p=[],q=[],r=[],s=[],t=[],u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;while((e-=1)>=0){G=F=0;for(z=0;z<g;z+=1){x=h[G+3]*l;for(A=1;A<=d;A+=1)B=G+((A>i?i:A)<<2),x+=h[B+=3];for(y=0;y<f;y+=1)r[F]=x,z===0&&(s[y]=((B=y+l)<i?B:i)<<2,t[y]=(B=y-d)>0?B<<2:0),C=G+s[y],D=G+t[y],x+=h[C+=3]-h[D+=3],F+=1;G+=f<<2}for(y=0;y<f;y+=1){E=y,x=r[E]*l;for(A=1;A<=d;A+=1)E+=A>j?0:f,x+=r[E];F=y<<2;for(z=0;z<g;z+=1)h[F+3]=I=x*m>>>n,y===0&&(s[z]=((B=z+l)<j?B:j)*f,t[z]=(B=z-d)>0?B*f:0),C=y+s[z],D=y+t[z],x+=r[C]-r[D],F+=f<<2}}return c}var a=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1],b=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];return{blurAlpha:c}}),define("renderers/canvas/canvasMask",["./fastBlur"],function(a){function e(a,b){var c="source-over";switch(b.blending){case"subtract":c="destination-out";break;case"intersect":c="source-in";break;case"lighten":c="lighter";break;case"darken":c="destination-in";break;case"difference":c="xor"}a.globalCompositeOperation=c}function f(a,b,c){a.bezierCurveTo(b.x+b.outVector.x,b.y+b.outVector.y,c.x+c.inVector.x,c.y+c.inVector.y,c.x,c.y)}function g(b,d,g,h,i){g=g||1;var j=99999999,k=d.blending==="subtract"&&i,l=k?!d.inverted:d.inverted,m=Math.round(Math.abs(d.feather.x))*g,n=c,o,p;n.canvas.width=h.width+m*2,n.canvas.height=h.height+m*2,n.globalCompositeOperation="source-over",n.setTransform(g,0,0,g,-h.x+m,-h.y+m),n.beginPath(),l&&(n.moveTo(-j,-j),n.lineTo(j,-j),n.lineTo(j,j),n.lineTo(-j,j),n.closePath()),d.each(function(a){o?f(n,o,a):n.moveTo(a.x,a.y),o=a}),f(n,o,d.get(0)),n.closePath(),n.fillStyle="#000000",n.fill(),d.expansion!==0&&(n.globalCompositeOperation=l!==d.expansion<0?"destination-out":"source-over",n.lineWidth=Math.abs(d.expansion*2),n.lineStyle="black",n.lineJoin="round",n.stroke()),d.feather&&d.feather.x>0&&n.putImageData(a.blurAlpha(n.getImageData(0,0,n.canvas.width,n.canvas.height),d.feather.x*.6*g,1),0,0),b.globalAlpha=d.opacity,k?b.globalCompositeOperation="add":e(b,d),b.setTransform(1,0,0,1,-m,-m),b.drawImage(n.canvas,0,0)}function h(a,b,c,d){var e=!0;a.canvas.width=d.width,a.canvas.height=d.height,b.each(function(b){b.blending&&b.blending!=="none"&&b.getLength()&&b.closed&&(g(a,b,c,d,e),e=!1)})}function i(a){var b="layer_mask_"+(d+=1),c=document.getCSSCanvasContext("2d",b,10,10);return a.style.WebkitMaskImage="-webkit-canvas("+b+")",c}function j(a,b){b.canvas.width=b.canvas.height=0,a.style.WebkitMaskImage=""}var b=document.createElement("canvas"),c=b.getContext?b.getContext("2d"):null,d=0;return{render:h,set:i,remove:j}}),define("renderers/svg/svgUtils",[],function(){function a(a,b,c){a.x1=b.x+b.outVector.x,a.y1=b.y+b.outVector.y,a.x2=c.x+c.inVector.x,a.y2=c.y+c.inVector.y,a.x=c.x,a.y=c.y}function b(b,c,d){var e=b.pathSegList,f=c.getLength(),g=1,h=1e4,i="createSVGPathSegMovetoAbs",j="createSVGPathSegLinetoAbs",k="createSVGPathSegCurvetoCubicAbs",l=d?5:0,m,n,o,p;if(!f)return;if(f+(c.closed?1:0)+l!==e.numberOfItems){console.log("remove"),e.clear(),d&&(e.appendItem(b[i](-h,-h)),e.appendItem(b[j](h,-h)),e.appendItem(b[j](h,h)),e.appendItem(b[j](-h,h)),e.appendItem(b[j](-h,-h))),e.appendItem(b[i](0,0));for(;g<f;g+=1)e.appendItem(b[k](0,0,0,0,0,0));c.closed&&e.appendItem(b[k](0,0,0,0,0,0))}g=1,o=e.getItem(l),n=c.get(0),o.x=n.x,o.y=n.y;for(;g<f;g+=1)p=c.get(g),a(e.getItem(g+l),n,p),n=p;c.closed&&a(e.getItem(g+l),n,c.get(0))}function c(a,b,d){var e=document.createElementNS("http://www.w3.org/2000/svg",a),f;if(b)for(f in b)b.hasOwnProperty(f)&&e.setAttribute(f,String(b[f]));if(d)for(f in d)d.hasOwnProperty(f)&&(e.style[f]=d[f]);return this.appendChild&&this.appendChild(e),e.create=c,e}return{create:c,path:b}}),define("renderers/svg/svgMask",["./svgUtils"],function(a){function c(b,c){a.path(b.pathNode,c,c.inverted),b.style.opacity=c.opacity,c.expansion>0?b.style.strokeWidth=c.expansion*2+"px":b.style.strokeWidth=0}function d(a,b,d,e){var f=a.maskNode,g=f.childNodes,h=b.getLength(),i=g.length,j=i<h,k=9e4,l;if(i!==h){if(j)for(;i<h;i+=1)l=f.create("g",{},{fill:"white","stroke-linejoin":"round",stroke:"white",strokeWidth:"0px",fillRulle:"evenodd"}),l.pathNode=l.create("path",{id:f.id+"_"+i+"_shape"});else for(;i>=h;i-=1);g=f.childNodes,h=g.length}i=0;for(;i<h;i+=1)c(g[i],b.get(i))}function e(c){var d="svg_mask_"+(b+=1),e=a.create("svg",{height:0}),f=e.create("mask",{id:d});return e.maskNode=f,c.appendChild(e),c.firstChild.style.mask="url(#"+d+")",e}function f(a,b){}var b=0;return{render:d,set:e,remove:f}}),define("utils/browser",[],function(){function a(a){return a.charAt(0).toUpperCase()+a.substr(1)}function b(b){var d=[b],e=0,f=c.length;b=a(b);for(;e<f;e+=1)d.push(c[e]+b);return d}var c="Webkit Moz O ms Khtml".split(" "),d={TRANSFORM:"Transform",TRANSFORM_STYLE:"transformStyle",PERSPECTIVE:"perspective",ORIGIN:"perspectiveOrigin"};return d.haveTransform=function(){var d=document.createElement("div"),e=b(this.TRANSFORM),f=0,g=e.length;if(d)for(;f<g;f+=1)if(f&&d.style[e[f]]!==undefined)return this.TRANSFORM=c[f-1]+a(this.TRANSFORM),!0;return!1}.call(d),d.have3DTransform=function(){var d=document.createElement("div"),e=b(this.PERSPECTIVE),f=0,g=e.length,h;if(d)for(;f<g;f+=1)if(f&&d.style[e[f]]!==undefined)return h=c[f-1],this.PERSPECTIVE=h+a(this.PERSPECTIVE),this.ORIGIN=h+a(this.ORIGIN),this.TRANSFORM_STYLE=h+a(this.TRANSFORM_STYLE),!0;return!1}.call(d),d.haveIEFilter=function(){var a=document.createElement("div");return a&&a.style.filter!==undefined?(a.style.width=a.style.height="100px",a.style.filter="progid:DXImageTransform.Microsoft.Matrix(sizingMethod='auto expand')",a.onfilterchange!==undefined):!1}.call(d),d.haveCanvasMask=function(){return document.createElement("div").style.WebkitMaskImage!==undefined&&typeof document.getCSSCanvasContext=="function"}.call(d),d.haveSvgMask=function(){var a=document.createElement("div");return a.style.mask="url(#idid)",console.log(a.style.mask),document.createElement("div").style.mask!==undefined}.call(d),d}),define("renderers/dom/Composition",["geom/Matrix2D","geom/Matrix","geom/Rectangle","utils/browser","./Solid","./Text","../canvas/canvasMask","../svg/svgMask"],function(a,b,c,d,e,f,g,h){function k(a){var b,c,d,e;if(a==null)return!1;c=a.getLength();if(!c)return!1;for(b=0;b<c;b+=1){d=a.get(b);if(d&&d.blending!=="none"&&d.getLength()&&d.closed)return!0}return!1}function l(a,b){var c=o.call(this,a),d=this.element,e;c&&(d.hasChildNodes()||b<0?(e=d.childNodes(),d.insertBefore(c.element,e[e.length-b-1])):d.appendChild(c.element),this.layers.splice(b,0,c))}function m(a,b){var c=this.layers[b];this.element.removeChild(c.element),this.layers.splice(b,1)}function n(a,b){var c=this.layers[a];this.layers[a]=this.layers[b],this.layers[b]=c}function o(a){var b=document.createElement("layer"),d={model:a,element:b,mask:null,scale:1,opacity:1},g=null;switch(a.type){case"composition":g=new p(a);break;case"text":g=new f(a);break;case"solid":g=new e(a)}return g&&g.element&&(b.appendChild(g.element),d.content=g.element,d.handler=g,d.bounds=new c(0,0,a.width,a.height)),d}function p(a){var c=a.layers.on,d=this,e;this.model=a,this.element=document.createElement("composition"),this.collapse=null,this.zoom=0,this.centerX=0,this.centerY=0,this.width=0,this.height=0,this.layers=[],a.layers.each(function(a){e=o.call(d,a),e&&(d.element.firstChild?d.element.insertBefore(e.element,d.element.firstChild):d.element.appendChild(e.element),d.layers.push(e))}),c.add.add(l,this),c.remove.add(m,this),c.swap.add(n,this),this.matrix_=new b,this.matrix2D_=new b,this.tempMatrix_=new b}var i=new a,j=d.haveCanvasMask?g:h;return p.prototype={constructor:p,render:function(a,b,c,e){var f=this.layers,g=this.layers.length,h=0,i=this.model,j=this.element.style,k=b?b:i.getCamera(),l=k.getCameraMatrix();this.collapse!==i.collapse&&(this.collapse=i.collapse,this.collapse?this.element.removeAttribute("style"):this.width=this.height=this.zoom=null);if(this.width!==i.width||this.height!==i.height)this.width=i.width,this.height=i.height,j.width=this.width.toFixed(4)+"px",j.height=this.height.toFixed(4)+"px",this.collapse||(j.clip="rect(0px, "+this.width+"px, "+this.height+"px, 0px)");this.zoom!==k.zoom&&(this.zoom=k.zoom,d.have3DTransform&&(j[d.PERSPECTIVE]=this.zoom.toString()+"px"));if(this.centerX!==k.center.x||this.centerY!==k.center.y)this.centerX=k.center.x,this.centerY=k.center.y,d.have3DTransform&&(j[d.ORIGIN]=this.centerX.toString()+"px "+this.centerY.toString()+"px");for(;h<g;h+=1)this.renderLayer(f[h],k,l,c,e);return a&&(a.x=0,a.y=0,a.width=i.width,a.height=i.height),a},renderLayer:function(a,b,c,d,e){var f=a.model,g=a.element,h=a.handler,i=a.content,l=g.style,m=f.is3D,n,o,p,q,r,s;a.visible!==f.visible&&(a.visible=f.visible,l.display=a.visible?"block":"none");if(a.visible&&h&&i){n=this.matrix_.injectMatrix(f.getMatrix()),d&&m?n.multiply(d):e&&!m&&n.multiply(e),f.collapse!==a.collapse&&(a.collapse=f.collapse,r=f.collapse?"collapse":"no_collapse",f.type==="composition"&&a.collapse?g.removeAttribute("style"):r+=" filter",g.className=r);if(f.type==="composition"&&f.collapse)o=n,m&&(o=this.matrix2D_.injectMatrix(f.getMatrix2D()),e&&o.multiply(e)),h.render(a.bounds,b,n,o);else if(h&&i){m&&n.multiply(c);if(f.collapse){var t=n.m21,u=n.m22,v=n.m23,w=(m?Math.sqrt(t*t+u*u+v*v)*(this.zoom/(this.zoom-n.m43)):Math.sqrt(t*t+u*u))*1.2,x=w/a.scale;if(x>1.3||x<.77)a.scale=w>.77&&w<1.1?1:w,this.setScale(i,w);w=1/a.scale}else!f.collapse&&m&&a.scale!==1&&(a.scale=1,this.setScale(i,a.scale));a.collapse=f.collapse,s=h.render(a.bounds),(a.scale!==1||a.bounds.x||a.bounds.y)&&n.preMultiply(this.tempMatrix_.set(1/a.scale,0,0,0,0,1/a.scale,0,0,0,0,1,0,s.x,s.y,0,1)),s.multiplyScalar(a.scale),this.setMatrix(g,n,f.is3D?b:null,f.getDepthPoint(),s),l.width=s.width,l.height=s.height,k(f.masks)?(a.masks||(a.masks=j.set(g)),j.render(a.masks,f.masks,a.scale,s)):a.masks&&(j.remove(g,a.masks),delete a.masks)}a.opacity!==f.opacity&&(a.opacity=f.opacity,this.setOpacity(g,f.opacity)),n.identity()}},setScale:function(a,b){d.haveTransform?a.style[d.TRANSFORM]=b!==1?"scale("+b.toFixed(4)+","+b.toFixed(4)+")":"":a.style.zoom!==undefined&&(a.style.zoom=b)},setMatrix:function(a,b,c,e,f){var g=a.style,h,j;d.have3DTransform?g[d.TRANSFORM]=b.toCSS():(h=i,c?h.simulate3D(b,c.center,e,c.zoom):h.copy3D(b),d.haveTransform?g[d.TRANSFORM]=h.toCSS():(d.haveIEFilter&&a.filters.length&&(g.width=f.width+"px",g.height=f.height+"px",this.slideMatrixBounds(h,f.width,f.height),j=a.filters.item(0),j.M11=h.m11,j.M12=h.m21,j.M21=h.m12,j.M22=h.m22),g.left=h.x.toFixed(4)+"px",g.top=h.y.toFixed(4)+"px"))},slideMatrixBounds:function(a,b,c){var d=Math.min;a.x+=d(0,d(b*a.m11+c*a.m21,d(b*a.m11,c*a.m21))),a.y+=d(0,d(b*a.m12+c*a.m22,d(b*a.m12,c*a.m22)))},setOpacity:function(a,b){a.style.opacity!==undefined?a.style.opacity=b!==1?b:"":d.haveIEFilter&&a.filters.length>=2&&(a.filters.item(1).Opacity=b*100)}},p}),define("renderers/dom/Renderer",["text!style/scene.css","./Composition"],function(a,b){function c(c,d){this.scene=new b(c),this.camera=d,this.element=document.createElement("scene"),this.element.className="no_collapse",this.element.appendChild(this.scene.element);if(!document.getElementById("AEStyleSheet")){var e=document.createElement("style"),f=a;e.id="AEStyleSheet",e.type="text/css",e.rel="stylesheet",e.media="screen",e.title="AEStyleSheet",e.styleSheet?e.styleSheet.cssText=f:e.innerHTML=f,document.getElementsByTagName("head")[0].appendChild(e)}c.color&&(this.scene.element.style.backgroundColor=c.color)}return c.prototype.render=function(){this.scene.render()},c}),define("main",["extern/ES5","builders/aeBuilder","graph","renderers/dom/Renderer","utils/browser"],function(ES5,aeBuilder,graph,DomRenderer,browser){var global=function(){return this||(1,eval)("this")}(),exp=typeof exports!="undefined"?exports:{};return exp.build=aeBuilder.build,exp.Composition=graph.Composition,exp.Text=graph.Text,exp.Solid=graph.Solid,exp.Camera=graph.Camera,exp.DomRenderer=DomRenderer,exp.browser=browser,typeof global.define=="function"&&global.define.amd?define("aex",[],function(){return exp}):typeof module!="undefined"&&module.exports?module.exports=exp:global.aex=exp,exp})})()